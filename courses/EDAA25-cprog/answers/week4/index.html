<!DOCTYPE html>
<html class="no-js">
  <head>
    <meta charset="utf-8"/>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
    <title>Datateknik LTH</title>
    <meta name="description"/>
    <meta content="width=device-width" name="viewport"/>
    <link href="../../../../stylesheets/application-c673fa9e.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../../../../javascripts/application-7044a308.js" type="text/javascript"></script>
  </head>
  <body>
    <header>
  <div class="inner">
    <img src="/images/dseklogo-4550b4c2.svg">
    <h1>Datateknik LTH</h1>
    <a href="https://github.com/datateknik-lth/datateknik-lth" class="button">
      <img src="/images/github-5740f0d2.png">
      <small>Visa p√•</small>GitHub
    </a>

    <h2><a class="nav-link" href="../../../../">Kurser</a> / <a class="nav-link" href="../../">EDAA25-cprog</a> / answers / week4</h2>
  </div>
</header>


    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <ol>
<li><p>A type which contains a VLA is called a variably modified type.</p></li>
<li><p>Since we need to be able to figure out the step size in the loop we need to
declare it as:
<code>
double (*p)[n];
</code>
Remember to include stdlib.h for malloc</p></li>
<li><p>uintptr<em>t and intptr</em>t</p></li>
<li><p>Natural alignment refers to giving data items an address which is a multiple
of its size.
```
/*  Results in a struct of size 8 */
struct node_t {
        short a;
        char  b;
        short c;
        char  d;
};</p>

<p>/*  Results in a struct of size 6 */
struct node_t {
        char  b;
        char  d;
        short a;
        short c;
};
```
Since the compiler is not permitted to change the ordering within the struct
it must insert one extra byte between a and c in the first defintion. These
bytes are called padding. It is important to note that the last member is 
padded with the number of bytes required so that the total size of the 
structure should be a multiple of the largest alignment of any structure member.</p></li>
<li><p>Lets say we want to align pointer with size_t 8, aka we want to round up to the next multiple of 8.
We start by adding 7 to the size (think modulo) and then remove all bits &lt; 8, aka bitwise complement:
<code>
unsigned a = (unsigned)p;
a = (a + 7) &amp; ~7;
p = (double*)aa;
</code></p></li>
<li><p>A flexible array member is an array of unspecified length inside a struct.
<code>
struct list_t {
        int a;
        int b[];
}
</code>
It must be the last member of the struct (all other types must be complete)
and it cannot be the only member of the struct.</p></li>
<li><p>It may be modified once, and the must common sequence point is variable
assignment.
I.e. this is illegal:
<code>
--i++;
</code></p></li>
<li><p>The macros are pretty self explanatory:</p>

<ul>
<li><strong>FILE</strong>: expands to the file name of the file where it is printed</li>
<li><strong>LINE</strong>: expands to the line where it is printed</li>
<li><strong>DATE</strong>: expands to the date of compilation</li>
<li><strong>TIME</strong>: expands to the time of compilation</li>
</ul>

<p>All of these are good to use for debugging.</p></li>
</ol>

      </div>
    </div>
  </body>
</html>
